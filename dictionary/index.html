<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gavári Dictionary</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0b1020;
      color: #f5f5f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem 3rem;
    }

    h1 {
      margin-bottom: 0.25rem;
      text-align: center;
    }

    .subtitle {
      opacity: 0.8;
      margin-bottom: 1.5rem;
      font-size: 0.95rem;
      text-align: center;
    }

    .card {
      background: #151a2b;
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 920px;
      width: 100%;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
      border: 1px solid #272f47;
    }

    /* ---------- TABS ---------- */
    .tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .tab-btn {
      border-radius: 999px;
      padding: 0.45rem 0.8rem;
      border: 1px solid #272f47;
      background: #0f1423;
      color: #f5f5f5;
      cursor: pointer;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .tab-btn:hover { background: #222842; }

    .tab-btn.active {
      border-color: #3f82ff;
      box-shadow: 0 0 0 1px #3f82ff44;
      opacity: 1;
    }

    .tab-panel { display: none; }
    .tab-panel.active { display: block; }

    /* ---------- CONTROLS (Alphabet ABOVE Search) ---------- */
    .controls {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      gap: 0.45rem;
      margin-bottom: 0.9rem;
    }

    .alpha-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      justify-content: center;
      font-size: 0.8rem;
      margin: 0;
      padding: 0.1rem 0;
    }

    .alpha-btn {
      border-radius: 999px;
      padding: 0.2rem 0.5rem;
      border: 1px solid #272f47;
      background: #0f1423;
      color: #f5f5f5;
      cursor: pointer;
    }

    .alpha-btn:hover { background: #222842; }

    .alpha-btn.disabled {
      opacity: 0.35;
      cursor: default;
    }

    .search-box { width: 100%; }

    label {
      font-size: 0.85rem;
      opacity: 0.9;
      display: block;
      margin-bottom: 0.2rem;
    }

    input[type="text"], textarea {
      width: 100%;
      box-sizing: border-box;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      border: 1px solid #272f47;
      background: #0f1423;
      color: #f5f5f5;
      font-size: 0.95rem;
    }

    textarea { min-height: 80px; resize: vertical; }

    input[type="text"]:focus, textarea:focus {
      outline: none;
      border-color: #3f82ff;
      box-shadow: 0 0 0 1px #3f82ff44;
    }

    .dictionary {
      margin-top: 0.75rem;
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 0.25rem;
    }

    .letter-section { margin-bottom: 1.25rem; }

    .letter-heading {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
      border-bottom: 1px solid #272f47;
      padding-bottom: 0.2rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
    }

    th, td {
      padding: 0.35rem 0.35rem;
      vertical-align: top;
    }

    th {
      text-align: left;
      font-size: 0.8rem;
      text-transform: uppercase;
      opacity: 0.7;
      border-bottom: 1px solid #272f47;
    }

    tr:nth-child(even) td { background: #111727; }

    .col-en { width: 40%; font-weight: 500; }
    .col-gv { width: 30%; color: #b8d1ff; }
    .col-notes { width: 30%; font-size: 0.8rem; opacity: 0.8; }

    .hint {
      margin-top: 0.9rem;
      font-size: 0.8rem;
      opacity: 0.75;
      line-height: 1.4;
    }

    /* ---------- PHRASEBOOK ---------- */
    .phrase-list {
      margin-top: 0.75rem;
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 0.25rem;
    }

    .phrase-card {
      border: 1px solid #272f47;
      background: #0f1423;
      border-radius: 12px;
      padding: 0.95rem;
      margin-bottom: 0.65rem;
    }

    .phrase-en {
      opacity: 0.85;
      font-size: 0.92rem;
      margin-bottom: 0.35rem;
    }

    .phrase-gv {
      color: #b8d1ff;
      font-weight: 700;
      font-size: 1.05rem;
      white-space: pre-wrap;
    }

    .phrase-notes {
      opacity: 0.75;
      font-size: 0.85rem;
      margin-top: 0.45rem;
      white-space: pre-wrap;
      line-height: 1.35;
    }

    @media (max-width: 700px) {
      .card { padding: 1.1rem; }
      th.col-notes, td.col-notes { display: none; }
    }
  </style>
</head>
<body>
  <h1>Gavári Dictionary</h1>
  <div class="subtitle">English ➜ Gavári · Official Lexicon</div>

  <div class="card">

    <div class="tabs">
      <button class="tab-btn active" data-tab="tab-dict">Dictionary</button>
      <button class="tab-btn" data-tab="tab-phrases">Phrases & Sentences</button>
    </div>

    <div id="tab-dict" class="tab-panel active">
      <div class="controls">
        <div class="alpha-bar" id="alphaBar"></div>

        <div class="search-box">
          <label for="searchInput">Search (English or Gavári)</label>
          <input
            id="searchInput"
            type="text"
            placeholder="Type to filter… e.g. 'love', 'nox', 'buonum diam'"
          />
        </div>
      </div>

      <div id="dictionary" class="dictionary"></div>

      <div class="hint">
        <strong>How to update this page:</strong><br />
        Scroll down in the code to the <code>dictionaryEntries</code> array and add objects like:
        <code>{ english: "promise", gavari: "promissum", notes: "noun" }</code>.
      </div>
    </div>

    <div id="tab-phrases" class="tab-panel">
      <div class="hint" style="margin-top:0;">
        <strong>Phrases & Sentences:</strong><br />
        Just scroll to see all phrases and sentences.
      </div>

      <div id="phraseList" class="phrase-list"></div>
    </div>

  </div>

  <script>
    // ---------------------------------------------
    // 1) DICTIONARY WORD LIST (ROMANCE ALTLANG ONLY)
    // ---------------------------------------------
    const dictionaryEntries = [
      // PRONOUNS
      { english: "I", gavari: "io", notes: "pronoun" },
      { english: "you (intimate singular)", gavari: "tu", notes: "pronoun" },
      { english: "you (formal singular)", gavari: "voi", notes: "pronoun" },
      { english: "we", gavari: "nos", notes: "pronoun" },
      { english: "you (plural)", gavari: "vos", notes: "pronoun" },
      { english: "he / it (masculine or general)", gavari: "el", notes: "pronoun" },
      { english: "she", gavari: "ela", notes: "pronoun" },
      { english: "they", gavari: "eli", notes: "pronoun" },
      { english: "it (neutral)", gavari: "id", notes: "pronoun" },

      // POSSESSIVES (gendered, no plural agreement)
      { english: "my (feminine noun)", gavari: "meus", notes: "possessive; unchanged for plural nouns" },
      { english: "my (masculine noun)", gavari: "meum", notes: "possessive; unchanged for plural nouns" },
      { english: "your (feminine noun)", gavari: "teus", notes: "possessive; unchanged for plural nouns" },
      { english: "your (masculine noun)", gavari: "teum", notes: "possessive; unchanged for plural nouns" },
      { english: "his / her / their (feminine noun)", gavari: "seus", notes: "possessive; unchanged for plural nouns" },
      { english: "his / her / their (masculine noun)", gavari: "seum", notes: "possessive; unchanged for plural nouns" },

      // CORE LOVE & INNER LIFE
      { english: "to love (passionately)", gavari: "amara" },
      { english: "love (tender, eternal)", gavari: "lumia" },
      { english: "desire (noun)", gavari: "desidera", notes: "also: deseo (verb)" },
      { english: "to desire", gavari: "deseo", notes: "alt/paired with desidera in notes" },
      { english: "passion", gavari: "passione" },
      { english: "burning (emotion)", gavari: "ardora", notes: "emotion / inner burn" },
      { english: "ardent / burning", gavari: "ardens", notes: "adjective/quality" },
      { english: "tenderness", gavari: "tenerezza" },
      { english: "tender feeling / tender", gavari: "tenara" },
      { english: "to miss deeply", gavari: "mancara" },
      { english: "to be jealous", gavari: "gelara" },
      { english: "to feel bliss / happiness", gavari: "felicara" },
      { english: "to feel sadness", gavari: "tristara" },
      { english: "to please", gavari: "piacera" },
      { english: "to promise", gavari: "prometara", notes: "verb" },
      { english: "promise", gavari: "promissum", notes: "noun" },
      { english: "to forgive", gavari: "perdona" },
      { english: "to confess", gavari: "confessara" },
      { english: "delirium", gavari: "delirius" },
      { english: "calm / peace", gavari: "calma" },
      { english: "inner fire", gavari: "fuoco" },
      { english: "shiver / thrill", gavari: "brivido" },
      { english: "tear", gavari: "lácrama" },
      { english: "sigh", gavari: "sospiro" },
      { english: "to laugh", gavari: "risere" },
      { english: "to smile", gavari: "sorridara" },
      { english: "to remember", gavari: "recordara" },
      { english: "to dream", gavari: "sonoara" },
      { english: "to eternalize", gavari: "eternare" },

      // BODY & INTIMACY
      { english: "heart", gavari: "cor", notes: "modern" },
      { english: "heart (older poetic)", gavari: "cora", notes: "older / poetic variant" },
      { english: "soul", gavari: "anima" },
      { english: "breath", gavari: "spiritus" },
      { english: "skin", gavari: "pellis" },
      { english: "lips", gavari: "labra" },
      { english: "kiss (noun)", gavari: "baisa", notes: "also: baciara (verb)" },
      { english: "to kiss", gavari: "baciara", notes: "also: baisa (noun)" },
      { english: "to touch", gavari: "tocara" },
      { english: "to hold tight", gavari: "strinara" },
      { english: "embrace / hug", gavari: "abrazara" },
      { english: "veil", gavari: "velum" },
      { english: "eyes", gavari: "oculi" },

      // NATURE & COSMOS
      { english: "night", gavari: "nox" },
      { english: "dawn", gavari: "aurora" },
      { english: "day", gavari: "giorno" },
      { english: "morning", gavari: "mattina" },
      { english: "sea", gavari: "marena" },
      { english: "sun", gavari: "solara" },
      { english: "moon", gavari: "lunara" },
      { english: "sky / heaven", gavari: "cielora" },
      { english: "wave", gavari: "ondara" },
      { english: "sand", gavari: "sabina" },
      { english: "flower", gavari: "florens" },
      { english: "rose", gavari: "rosara" },

      // FOOD & TABLE
      { english: "bread", gavari: "pane" },
      { english: "wine", gavari: "vinora" },
      { english: "goblet / glass", gavari: "calira" },
      { english: "olive", gavari: "olivara" },
      { english: "pasta", gavari: "pastora" },
      { english: "cheese", gavari: "formara" },
      { english: "sweet / dessert", gavari: "dolcara" },
      { english: "fruit", gavari: "frutta" },
      { english: "coffee", gavari: "caffè" },

      // DAILY LIFE
      { english: "house / home", gavari: "casa" },
      { english: "street / road", gavari: "strada" },
      { english: "market", gavari: "mercato" },
      { english: "friend", gavari: "amico" },
      { english: "family", gavari: "famiglia" },
      { english: "work", gavari: "lavoro" },
      { english: "time / weather", gavari: "tempo" },
      { english: "beautiful", gavari: "bello" },
      { english: "to have", gavari: "habera" },

      // ACTIONS & MOVEMENT
      { english: "to walk", gavari: "camminare" },
      { english: "to eat", gavari: "mangadere" },
      { english: "to drink", gavari: "bere" },
      { english: "to dance", gavari: "ballara" },

      // CONNECTORS & PARTICLES
      { english: "and", gavari: "e" },
      { english: "but", gavari: "ma" },
      { english: "but (older / poetic contrast)", gavari: "sed" },
      { english: "or", gavari: "o" },
      { english: "with", gavari: "com" },
      { english: "when", gavari: "quuando" },
      { english: "because", gavari: "perquia" },
      { english: "while", gavari: "mentire" },
      { english: "after", gavari: "dopo" },
      { english: "before", gavari: "antura" },
      { english: "until", gavari: "usque" },
      { english: "under", gavari: "sotto" },
      { english: "in (inside)", gavari: "intra" },
      { english: "to / towards", gavari: "adara" },
      { english: "on / upon / above", gavari: "supra" },
      { english: "near / close", gavari: "proxa" },
      { english: "around", gavari: "circa" },

      // GREETINGS & SOCIAL
      { english: "good morning", gavari: "buonum diam" },
      { english: "hello / goodbye", gavari: "ciao" },
      { english: "thank you", gavari: "gratia" },
    ];

    // ---------------------------------------------
    // 2) PHRASEBOOK LIST (ALTLANG PHRASES)
    // ---------------------------------------------
    const phrasebookEntries = [
      {
        english: "My star, eternal love. Your breath inflames my heart.",
        gavari: "Stella mea, lumia eterna. Spiritus teus cor meum inflama.",
        notes: "Uses: lumia, spiritus, cor, inflama (borrowed verb form if you keep it); adjust anytime."
      },
      {
        english: "I whisper your name in the night.",
        gavari: "Susurrus nomen teus in nox.",
        notes: "If you later add 'susurrus' officially, keep this; otherwise swap the verb."
      },
      {
        english: "Good morning, my love. Coffee?",
        gavari: "Buonum diam, lumia meum. Caffè?",
        notes: "Endearment + daily life."
      },
      {
        english: "We walk to the market for fresh fruit.",
        gavari: "Nos camminare adara mercato per frutta fresca.",
        notes: "If you don’t want 'per' or 'fresca', replace later."
      }
    ];

    function normalize(str) {
      return (str || "")
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "");
    }

    // Tabs
    const tabButtons = document.querySelectorAll(".tab-btn");
    const tabPanels = document.querySelectorAll(".tab-panel");

    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        tabPanels.forEach(p => p.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById(btn.dataset.tab).classList.add("active");
      });
    });

    // Dictionary
    const dictionaryContainer = document.getElementById("dictionary");
    const searchInput = document.getElementById("searchInput");
    const alphaBar = document.getElementById("alphaBar");

    function buildGroupedDictionary(entries) {
      const groups = {};
      for (const entry of entries) {
        const firstChar = entry.english.trim().charAt(0).toUpperCase();
        const letter = /[A-Z]/.test(firstChar) ? firstChar : "#";
        if (!groups[letter]) groups[letter] = [];
        groups[letter].push(entry);
      }
      for (const letter in groups) {
        groups[letter].sort((a, b) =>
          a.english.toLowerCase().localeCompare(b.english.toLowerCase())
        );
      }
      return groups;
    }

    function renderDictionary(filter = "", jumpToLetter = null) {
      const normFilter = normalize(filter);

      const filtered = dictionaryEntries.filter((entry) => {
        if (!normFilter) return true;
        const en = normalize(entry.english);
        const gv = normalize(entry.gavari);
        const notes = normalize(entry.notes || "");
        return en.includes(normFilter) || gv.includes(normFilter) || notes.includes(normFilter);
      });

      const groups = buildGroupedDictionary(filtered);
      const letters = Object.keys(groups).sort();

      dictionaryContainer.innerHTML = "";

      if (filtered.length === 0) {
        dictionaryContainer.innerHTML =
          "<p style='opacity:0.7;font-size:0.9rem;'>No entries found for that search.</p>";
        return;
      }

      const fragment = document.createDocumentFragment();

      letters.forEach((letter) => {
        const section = document.createElement("section");
        section.className = "letter-section";
        section.id = `letter-${letter}`;

        const heading = document.createElement("div");
        heading.className = "letter-heading";
        heading.textContent = letter === "#" ? "#" : letter;
        section.appendChild(heading);

        const table = document.createElement("table");

        const thead = document.createElement("thead");
        thead.innerHTML = `
          <tr>
            <th class="col-en">English</th>
            <th class="col-gv">Gavári</th>
            <th class="col-notes">Notes</th>
          </tr>
        `;
        table.appendChild(thead);

        const tbody = document.createElement("tbody");
        groups[letter].forEach((entry) => {
          const tr = document.createElement("tr");
          const enTd = document.createElement("td");
          const gvTd = document.createElement("td");
          const notesTd = document.createElement("td");

          enTd.className = "col-en";
          gvTd.className = "col-gv";
          notesTd.className = "col-notes";

          enTd.textContent = entry.english;
          gvTd.textContent = entry.gavari;
          notesTd.textContent = entry.notes || "";

          tr.appendChild(enTd);
          tr.appendChild(gvTd);
          tr.appendChild(notesTd);
          tbody.appendChild(tr);
        });

        table.appendChild(tbody);
        section.appendChild(table);
        fragment.appendChild(section);
      });

      dictionaryContainer.appendChild(fragment);

      if (jumpToLetter && document.getElementById(`letter-${jumpToLetter}`)) {
        document.getElementById(`letter-${jumpToLetter}`)
          .scrollIntoView({ behavior: "smooth", block: "start" });
      }
    }

    function renderAlphaBar() {
      const lettersInUse = new Set(
        dictionaryEntries.map((e) => (e.english.trim().charAt(0).toUpperCase() || "#"))
      );

      const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
      alphaBar.innerHTML = "";

      letters.forEach((letter) => {
        const btn = document.createElement("button");
        btn.textContent = letter;
        btn.className = "alpha-btn";

        if (!lettersInUse.has(letter)) {
          btn.classList.add("disabled");
        } else {
          btn.addEventListener("click", () => renderDictionary(searchInput.value, letter));
        }
        alphaBar.appendChild(btn);
      });
    }

    searchInput.addEventListener("input", () => renderDictionary(searchInput.value));

    // Phrasebook
    const phraseList = document.getElementById("phraseList");

    function renderPhrasebook() {
      phraseList.innerHTML = "";

      if (!phrasebookEntries.length) {
        phraseList.innerHTML =
          "<p style='opacity:0.7;font-size:0.9rem;'>No phrases added yet.</p>";
        return;
      }

      phrasebookEntries.forEach((p) => {
        const card = document.createElement("div");
        card.className = "phrase-card";

        card.innerHTML = `
          <div class="phrase-en">${p.english || ""}</div>
          <div class="phrase-gv">${p.gavari || ""}</div>
          ${p.notes ? `<div class="phrase-notes">${p.notes}</div>` : ""}
        `;

        phraseList.appendChild(card);
      });
    }

    renderAlphaBar();
    renderDictionary("");
    renderPhrasebook();
  </script>
</body>
</html>